<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Test and Learn</title>
  <style>
    /* your CSS stays same, no error */
  </style>
</head>
<body>

  <!-- Your whole HTML content stays the same (header, nav, sections, quizzes etc.) -->

  <!-- Put your JavaScript inside <script> -->
  <script>
    // --- Simple in-page navigation (no external files) ---
    function showSection(id) {
      var sections = document.getElementsByClassName('section');
      for (var i = 0; i < sections.length; i++) {
        sections[i].classList.remove('active');
      }
      var el = document.getElementById(id);
      if (el) { el.classList.add('active'); }
      // clear quiz area when leaving quizzes
      if (id !== 'quizzes') { document.getElementById('quizArea').innerHTML = ""; }
    }

    // --- Quiz data (easy, edit anytime) ---
    var quizzes = {
      india: [
        { q: "What is the capital of India?", options: ["Mumbai", "New Delhi", "Kolkata"], correct: 1 },
        { q: "Which animal is the national animal of India?", options: ["Elephant", "Peacock", "Tiger"], correct: 2 },
        { q: "Which festival is the festival of lights?", options: ["Holi", "Diwali", "Eid"], correct: 1 }
      ],
      // (all your other quiz topics remain unchanged)
    };

    // --- Quiz runtime variables ---
    var currentTopic = "";
    var currentIndex = 0;
    var score = 0;

    function startQuiz(topic) {
      currentTopic = topic;
      currentIndex = 0;
      score = 0;
      showSection('quizzes');
      renderQuestion();
    }

    function renderQuestion() {
      var quizList = quizzes[currentTopic];
      if (!quizList || currentIndex >= quizList.length) {
        showResult();
        return;
      }

      var item = quizList[currentIndex];
      var html = "<div class='quiz-area'>";
      html += "<h3>Question " + (currentIndex + 1) + " of " + quizList.length + "</h3>";
      html += "<p style='font-weight:bold;'>" + item.q + "</p>";

      for (var i = 0; i < item.options.length; i++) {
        html += "<button class='option-btn' onclick='checkAnswer(" + i + ")'>" + item.options[i] + "</button>";
      }

      html += "<div style='margin-top:10px;'><button onclick='skipQuestion()' class='start-btn'>Skip</button></div>";
      html += "</div>";

      document.getElementById('quizArea').innerHTML = html;
    }

    function checkAnswer(selected) {
      var item = quizzes[currentTopic][currentIndex];
      var feedback = "";
      if (selected === item.correct) {
        score++;
        feedback = "Correct!";
      } else {
        feedback = "Wrong! Correct answer: " + item.options[item.correct];
      }
      var area = document.getElementById('quizArea');
      area.innerHTML += "<p style='margin-top:8px; font-weight:bold;'>" + feedback + "</p>";
      currentIndex++;
      setTimeout(renderQuestion, 800);
    }

    function skipQuestion() {
      currentIndex++;
      renderQuestion();
    }

    function showResult() {
      var total = quizzes[currentTopic].length;
      var html = "<div class='quiz-area'>";
      html += "<h3>Quiz finished!</h3>";
      html += "<p class='score'>You scored " + score + " out of " + total + ".</p>";
      html += "<button class='start-btn' onclick='startQuiz(currentTopic)'>Try Again</button> ";
      html += "<button class='start-btn' onclick='document.getElementById(\"quizArea\").innerHTML = \"\"'>Close</button>";
      html += "</div>";
      document.getElementById('quizArea').innerHTML = html;
    }

    // Save custom quiz
    function saveCustomQuiz() {
      var q = document.getElementById("customQ").value;
      var opts = document.getElementById("customOptions").value.split(",");
      var correct = parseInt(document.getElementById("customCorrect").value);

      if (!q || opts.length < 2 || isNaN(correct) || correct < 0 || correct >= opts.length) {
        alert("Please fill in all fields correctly!");
        return;
      }

      quizzes["custom"] = [{ q: q, options: opts, correct: correct }];
      startQuiz("custom");
    }

    // Practice Mode
    var currentQuestion = 0;

    function startPractice(topic) {
      currentTopic = topic;
      currentQuestion = 0;
      score = 0;

      var quizArea = document.querySelector("#practice .quiz-area");
      quizArea.innerHTML = "<h3>Practice: " + topic + "</h3>";
      showPracticeQuestion();
    }

    function showPracticeQuestion() {
      var quizArea = document.querySelector("#practice .quiz-area");
      var q = quizzes[currentTopic][currentQuestion];

      var html = "<p><b>Q" + (currentQuestion+1) + ".</b> " + q.q + "</p>";
      for (var i=0; i<q.options.length; i++) {
        html += "<button class='option-btn' onclick='checkPracticeAnswer(" + i + ")'>" + q.options[i] + "</button><br>";
      }
      quizArea.innerHTML = html;
    }

    function checkPracticeAnswer(choice) {
      var q = quizzes[currentTopic][currentQuestion];
      var quizArea = document.querySelector("#practice .quiz-area");

      if (choice === q.correct) {
        quizArea.innerHTML += "<p style='color:green;'>✅ Correct!</p>";
      } else {
        quizArea.innerHTML += "<p style='color:red;'>❌ Wrong... Correct answer: " + q.options[q.correct] + "</p>";
      }
    }
  </script>
</body>
</html>


